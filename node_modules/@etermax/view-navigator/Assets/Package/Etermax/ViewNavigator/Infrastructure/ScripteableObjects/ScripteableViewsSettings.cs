using System.Collections.Generic;
using System.Linq;
using UnityEngine;

namespace Etermax.ViewNavigator.Infrastructure.ScripteableObjects
{
    public class ScripteableViewsSettings : ScriptableObject
    {
        [SerializeField] public List<ViewSetting> Settings = new List<ViewSetting>();

        public void Add(ViewSetting setting)
        {
            Settings = RemoveDeletedViewSettings();
            Settings.Add(setting);
        }

        private List<ViewSetting> RemoveDeletedViewSettings()
        {
            return new List<ViewSetting>(Settings.Where(setting => setting.ViewMonoBehaviour != null));
        }
    }
}