[![Name Badge][name]][name-link]
[![Version Badge][version]][version-link]

[![Pipeline Badge][pipeline]][pipeline-link]
[![Open Issues Badge][open-issues]][open-issues-link]
[![Open Merge Requests Badge][open-merge-requests]][open-merge-requests-link]

[![Slack Badge][slack]][slack-link]

[name]: https://badges.etermax.com/packageJson?key=name&label=name&color=yellow&project=unity-tools/utilities/unity-json-object
[name-link]: package.json
[version]: https://badges.etermax.com/packageJson?key=version&label=version&project=unity-tools/utilities/unity-json-object
[version-link]: package.json
[pipeline]: https://badges.etermax.com/pipeline?project=unity-tools/utilities/unity-json-object
[pipeline-link]: https://gitlab.etermax.net/unity-tools/utilities/unity-json-object/pipelines
[open-issues]: https://badges.etermax.com/open-issues?project=unity-tools/utilities/unity-json-object
[open-issues-link]: https://gitlab.etermax.net/unity-tools/utilities/unity-json-object/issues?scope=all&utf8=âœ“&state=opened
[open-merge-requests]: https://badges.etermax.com/open-merge-requests?project=unity-tools/utilities/unity-json-object
[open-merge-requests-link]: https://gitlab.etermax.net/unity-tools/utilities/unity-json-object/merge_requests
[slack]: https://badges.etermax.com/slack?channel=ask-platform-team
[slack-link]: https://etermax.slack.com/app_redirect?channel=ask-platform-team

# Unity JsonObject

# Prerequisites

Set the dependency in the package json

```json
"dependencies": {
    "@etermax/unity-json-object": "VERSION"
  }
```

# Assembly Definitions

```json
Etermax.json
```

# Peer Dependencies

You need to add this depenendencies in your `package.json` in order to compile.

```json
"@etermax/unity-rx": "7.0.0",
"@etermax/observable-extensions": "1.2.1"
```

# Description

This package is a wrapper of NewtonSoft Json.net providing JsonObject & JsonAray Java like.
It has support for Net 3.5 & 4.x

# Usage

## Creating a JsonObject

```csharp
var jsonObject = JsonObject
          .Create()
          .Add("name", "Martin")
          .Add("age", 29)
          .Add("profile", JsonObject.Create().Add("genre", "male"));

Debug.Log(jsonObject.ToString());
```

Output

```json
{ "name": "Martin", "age": 29, "profile": { "genre": "male" } }
```

## Creating JsonObject from Json

```csharp
var json = "{\"profile\":{\"name\":\"Martin\",\"age\":29}}";
var jsonObject = JsonObject.FromJson(json);

var myCustomDto = jsonObject.GetObject<MyCustomObjectDto>("profile");

Debug.Log(myCustomDto.Name);
Debug.Log(myCustomDto.Age);
```

Output

```bash
Martin
29
```

## Creating a JsonArray

```csharp
var jsonArray = JsonArray<string>
          .Create()
          .Add("Martin")
          .Add("Gonzalez");

Debug.Log(jsonArray.ToString());
```

Output

```json
["Martin", "Gonzalez"]
```

## Creating JsonArray from Json

```csharp
var json = "[[2,3],[4,5]]";
var jsonArray = JsonArray<JsonArray<int>>.FromJson(json);

Assert.AreEqual(3, jsonArray[0][1]);
Assert.AreEqual(4, jsonArray[1][0]);
Assert.AreEqual(5, jsonArray[1][1]);
```

## Iteration

Both JsonObject and JsonArray are iterables

```csharp
var expectedStringValue = "Martin";
var expectedIntValue = 24;
var jsonObject = JsonObject.Create()
        .Add("name", expectedStringValue)
        .Add("age", expectedIntValue);

var ageObject = jsonObject.FirstOrDefault(val => val.Key.Equals("age")).Value;
var nameObject = jsonObject.FirstOrDefault(val => val.Key.Equals("name")).Value;

Assert.AreEqual(expectedIntValue, Convert.ToInt32(ageObject));
Assert.AreEqual(expectedStringValue, nameObject.ToString());
```

```csharp
var myString = "myString";
var myInt = 2;
var jsonArrayResult = JsonArray<string>
        .Create()
        .Add(myString);

var stringObject = jsonArrayResult.First(value => value.Equals(myString));

Assert.AreEqual(myString, stringObject);
```

# Dependencies

```json
"@etermax/net-json-35": "1.0.9"
```
