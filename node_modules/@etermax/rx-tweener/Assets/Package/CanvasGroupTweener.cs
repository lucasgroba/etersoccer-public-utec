using System;
using UniRx;
using UnityEngine;

namespace Etermax.Rx.UnityDelivery.Widgets
{
    public class CanvasGroupTweener : FloatTweener
    {
        CanvasGroup canvasGroup;

        protected override IObservable<Unit> PlayTween()
        {
            return Tween()
                .TakeUntilDestroy(this)
                .Do(a => GetCanvasGroup().alpha = a)
                .AsUnitObservable();
        }

        CanvasGroup GetCanvasGroup()
        {
            if(canvasGroup == null)
                canvasGroup = GetComponent<CanvasGroup>();
            return canvasGroup;
        }
    }
}
